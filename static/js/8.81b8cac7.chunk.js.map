{"version":3,"sources":["assets/homeImage.gif","lib/bestbuy.js","pages/Product/ReviewDetails.js","pages/Product/reviewBox.js","pages/Product/ProductDetail.js"],"names":["dotenv","config","API_BASE_URL","URL_PARAMS","PRODUCT_URL","SEARCH_STORE_URL","getProductResults","query","toLowerCase","fetch","then","response","json","getProductDetailResults","sku","getStoresResults","getAbouttImage","src","aboutImage","alt","ReviewDetails","props","alert","useAlert","useState","formData","setFormData","handleChange","e","preventDefault","target","name","value","useEffect","data","localStorage","getItem","JSON","parse","setItem","stringify","className","style","boxShadow","onSubmit","fontSize","type","onChange","rows","onClick","show","reviewBox","ProductDetail","info","setInfo","history","useHistory","params","useParams","goNext","newIndex","slideshowIndex","cache","length","setSlideshowIndex","push","goPrev","goSearchResults","lastSearchText","handleKeypress","ev","code","console","log","catch","err","warn","window","addEventListener","removeEventListener","products","image","regularPrice","plot"],"mappings":"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","file":"static/js/8.81b8cac7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/homeImage.bd1851e8.gif\";","import dotenv from \"dotenv\";\r\nimport aboutImage from \"../assets/homeImage.gif\";\r\n\r\n// dotenv package has been installed and .env.local file has been created to hide API Key\r\ndotenv.config();\r\n\r\n// const API_KEY = process.env.REACT_APP_BESTBUY_API_KEY; -- TODO: Check why it is not working\r\n\r\nconst API_KEY = \"qhqws47nyvgze2mq3qx4jadt\";\r\nconst API_BASE_URL = \"https://api.bestbuy.com/v1/\";\r\nconst URL_PARAMS = `format=json&pageSize=50&apiKey=${API_KEY}`;\r\n\r\nconst PRODUCT_URL = `${API_BASE_URL}products?&${URL_PARAMS}`;\r\nconst SEARCH_STORE_URL = `${API_BASE_URL}stores?&${URL_PARAMS}`;\r\n\r\nfunction getProductResults(query) {\r\n\t// console.log(\"SEARCH_PRODUCT_URL: \", SEARCH_PRODUCT_URL);\r\n\treturn query.toLowerCase() === \"all\"\r\n\t\t? fetch(PRODUCT_URL).then((response) => response.json())\r\n\t\t: fetch(`${API_BASE_URL}products(search=${query})?&${URL_PARAMS}`).then((response) => response.json());\r\n}\r\n\r\nfunction getProductDetailResults(sku) {\r\n\treturn fetch(`${API_BASE_URL}products(sku=${sku})?&${URL_PARAMS}`).then((response) => response.json());\r\n}\r\n\r\nfunction getStoresResults(query) {\r\n\treturn fetch(SEARCH_STORE_URL).then((response) => response.json());\r\n}\r\n\r\nfunction getProductReview(query) {\r\n\t// \t// default to large thumbnail size\r\n\t// \treturn `https://farm${photo.farm}.${IMAGE_BASE_URL}/${photo.server}/${photo.id}_${photo.secret}_${size}.jpg`;\r\n\treturn \"getReview\";\r\n}\r\n\r\nfunction getAbouttImage() {\r\n\treturn <img src={aboutImage} alt=\"loading...\" />;\r\n}\r\n// export object with all fns as default, just another way of accessing\r\n// NO - avoid default exports? Makes static analysis/tree-shaking harder??\r\n// export default {getSearchResults, getPhotoByID, getImageURL};\r\n\r\n// explicit named exports, isn't interesting ???\r\nexport { getProductResults, getStoresResults, getProductReview, getProductDetailResults, getAbouttImage };\r\n","import { useState, useEffect } from \"react\";\r\nimport { useAlert } from \"react-alert\";\r\nimport \"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport default function ReviewDetails(props) {\r\n\t// const [rows, setRows] = useState([{ name: \"\", email: \"\", phone: \"\", desc: \"\", sku: \"\" }]);\r\n\tconst alert = useAlert();\r\n\r\n\tconst [formData, setFormData] = useState({ sku: props.sku });\r\n\r\n\tuseEffect(() => {\r\n\t\tconst data = localStorage.getItem(\"my-review-list\");\r\n\t\tif (data) {\r\n\t\t\tsetFormData(JSON.parse(data));\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem(\"my-review-list\", JSON.stringify(formData));\r\n\t}, [formData]);\r\n\r\n\tfunction handleChange(e) {\r\n\t\te.preventDefault();\r\n\t\tsetFormData({\r\n\t\t\t...formData,\r\n\t\t\t[e.target.name]: e.target.value,\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"container\" style={{ boxShadow: \"1px 1px 16px rgba(0, 0, 0, 0.3)\" }}>\r\n\t\t\t<form onSubmit={handleChange}>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label style={{ fontSize: 20 }}>What you think of it</label>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<label>Name</label>\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" name=\"name\" onChange={handleChange} />\r\n\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t\t<input type=\"email\" className=\"form-control\" name=\"email\" onChange={handleChange} />\r\n\t\t\t\t\t<label>Phone</label>\r\n\t\t\t\t\t<input type=\"tel\" className=\"form-control\" name=\"phone\" onChange={handleChange} />\r\n\t\t\t\t\t<label>Review</label>\r\n\t\t\t\t\t<textarea rows=\"3\" className=\"form-control\" name=\"desc\" onChange={handleChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tclassName=\"btn btn-primary btn-block\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\talert.show(\"Review Saved!\");\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport \"../../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\nimport ReviewDetails from \"./ReviewDetails\";\r\nimport \"./Product.css\";\r\n\r\nexport default function reviewBox(props) {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<br />\r\n\t\t\t<ReviewDetails sku={props} />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\n// import named exports from our BestBuy library file\r\nimport { getProductDetailResults } from \"../../lib/bestbuy\";\r\nimport reviewBox from \"./reviewBox\";\r\nimport \"./Product.css\";\r\n\r\nfunction ProductDetail(props) {\r\n\tconst [info, setInfo] = useState({}); // for storing image info API response data\r\n\r\n\tconst history = useHistory();\r\n\tconst params = useParams();\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(\"FETCHING\", params.sku);\r\n\r\n\t\t// .then( response => response.json() )\r\n\t\tgetProductDetailResults(params.sku)\r\n\t\t\t.then((data) => setInfo(data))\r\n\t\t\t.catch((err) => console.warn(\"error making API request:\", err));\r\n\t}, [params.sku]);\r\n\t//  ðŸ‘† Because the slideshow lets us move from a details page with one ID to a details page\r\n\t//  with another ID, we have to make sure we re-fetch whenever the ID param changes\r\n\r\n\t// handler for moving to next image - used by 'prev' link and keypress handler\r\n\tfunction goNext() {\r\n\t\tsetInfo({}); // clear image and show loading message\r\n\t\tconst newIndex = (props.slideshowIndex + 1) % props.cache.length; // trick to wrap index at array upper limit\r\n\t\tprops.setSlideshowIndex(newIndex); // tell <App> new index value so slideshow remembers its place in results\r\n\t\thistory.push(`/productDetail/${props.cache[newIndex].sku}`);\r\n\t}\r\n\r\n\t// handler for moving to previous image - used by 'prev' link and keypress handler\r\n\tfunction goPrev() {\r\n\t\tsetInfo({}); // clear image and show loading message\r\n\t\tconst newIndex = props.slideshowIndex - 1 < 0 ? props.cache.length - 1 : props.slideshowIndex - 1; // wrap from 0 to end\r\n\t\tprops.setSlideshowIndex(newIndex); // tell <App> new index value so slideshow remembers its place in results\r\n\t\thistory.push(`/productDetail/${props.cache[newIndex].sku}`);\r\n\t}\r\n\r\n\tfunction goSearchResults() {\r\n\t\t// use the lastSearchText prop to return to the appropriate search results if\r\n\t\t// the prop is present (i.e. we came from results route), otherwise to\r\n\t\t// root route (i.e. we came from direct details page URL)\r\n\t\thistory.push(props.lastSearchText ? `/product/${props.lastSearchText}` : \"/\");\r\n\t}\r\n\r\n\tfunction handleKeypress(ev) {\r\n\t\tif (!props.cache) {\r\n\t\t\t// We can't do slideshow navigation if there's no cache, so return early, i.e. ignore keypress\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tswitch (ev.code) {\r\n\t\t\tcase \"ArrowLeft\":\r\n\t\t\t\tev.preventDefault(); // only preventDefault on matched keys, otherwise all other keys stop working!\r\n\t\t\t\treturn goPrev();\r\n\t\t\tcase \"ArrowRight\":\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\treturn goNext();\r\n\t\t\tcase \"Escape\":\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\treturn goSearchResults();\r\n\t\t} // switch( ev.code )\r\n\t} // handleKeypress()\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener(\"keydown\", handleKeypress);\r\n\t\treturn () => window.removeEventListener(\"keydown\", handleKeypress);\r\n\t}, [props.slideshowIndex]); // this dependency is necessary to avoid stale values of slideshowIndex in the handler\r\n\r\n\treturn (\r\n\t\t<div className=\"product\">\r\n\t\t\t<div className=\"imageDetails\">\r\n\t\t\t\t{\r\n\t\t\t\t\t// only show nav controls if the cache exists, i.e we're here via search results,\r\n\t\t\t\t\t// not via a direct link to a details page\r\n\t\t\t\t\tprops.cache && (\r\n\t\t\t\t\t\t<div className=\"controls\">\r\n\t\t\t\t\t\t\t<span className=\"prev\" onClick={goPrev}>\r\n\t\t\t\t\t\t\t\t&lt; prev\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className=\"next\" onClick={goNext}>\r\n\t\t\t\t\t\t\t\tnext &gt;\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\t// check if the 'product' key is set (truthy), i.e. we have the query response;\r\n\t\t\t\t\t// a safer version might be \" 'product' in info  \"   - \"in\" is the JS operator for\r\n\t\t\t\t\t// checking whether a key is defined in an object\r\n\t\t\t\t\tinfo.products ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h1>{info.products[0].name}</h1>\r\n\t\t\t\t\t\t\t<br /> <br /> <br /> <br />\r\n\t\t\t\t\t\t\t<div className=\"imageBox\">\r\n\t\t\t\t\t\t\t\t<div className=\"left-half\">\r\n\t\t\t\t\t\t\t\t\t<img src={info.products[0].image} onClick={goSearchResults} alt={info.products[0].name} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"right-half\">\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Name : {info.products[0].name} </p>\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t<p> Sku : {info.products[0].sku}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p> Regular Price: {info.products[0].regularPrice}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t<p> Product Summary : {info.products[0].plot}</p>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"reviewBox\">{reviewBox(info.products[0].sku)}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p>Loading...</p>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n} // ProductDetail()\r\n\r\nexport default ProductDetail;\r\n"],"sourceRoot":""}